{"remainingRequest":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/babel-loader/lib/index.js!/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jihongyu/Documents/GitHub/ypiao_vue_app/src/views/shopcart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/src/views/shopcart.vue","mtime":1568116038026},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { MessageBox } from 'mint-ui';\nexport default {\n  data: function data() {\n    return {\n      title: \"购物车\",\n      selected: \"tab2\",\n      glstate: true,\n      gl_tit: \"管理\",\n      checked: false,\n      checklist: [],\n      allprice: 0,\n      cartlist: [{\n        zk: 1,\n        tic_id: 1,\n        tic_title: \"【中鱼文化】神剧重燃！black Mary Poppins中文版《水曜日》第二轮suigvuyefbcuaeksbviuadfvsd\",\n        tic_time: \"2019.11.22-12.01\",\n        tic_venue: \"北京喜剧院\",\n        price: 500,\n        sin_price: 0,\n        count: 1,\n        ifcheck: true,\n        sr: require(\"../../public/img/index/zkp1.jpg\")\n      }, {\n        tic_id: 2,\n        zk: 2,\n        tic_title: \"【中鱼文化】神剧重燃！black Mary Poppins中文版《水曜日》第二轮suigvuyefbcuaeksbviuadfvsd\",\n        tic_time: \"2019.11.22-12.01\",\n        tic_venue: \"北京2\",\n        price: 800,\n        sin_price: 0,\n        count: 2,\n        ifcheck: true,\n        sr: require(\"../../public/img/index/zkp2.jpg\")\n      }, {\n        tic_id: 3,\n        zk: 0,\n        tic_title: \"【中鱼文化】神剧重燃！black Mary Poppins中文版《水曜日》第二轮suigvuyefbcuaeksbviuadfvsd\",\n        tic_time: \"2019.11.22-12.01\",\n        tic_venue: \"北京3\",\n        price: 1000,\n        sin_price: 0,\n        count: 3,\n        ifcheck: false,\n        sr: require(\"../../public/img/index/zkp3.jpg\")\n      }],\n      alltitnum: 0\n    };\n  },\n  created: function created() {\n    this.rend();\n    this.allcount();\n    this.sinprice();\n  },\n  watch: {\n    checklist: function checklist() {\n      var _this = this;\n\n      this.calcTotalPrice();\n\n      if (this.checklist.length == this.cartlist.length) {\n        this.cartlist.forEach(function (item) {\n          item.ifcheck = true;\n        });\n        this.checked = true;\n      } else {\n        this.checklist.forEach(function (e) {\n          _this.cartlist.forEach(function (item, index) {\n            if (e == item.tic_id) {\n              _this.cartlist[index].ifcheck = true;\n            } else {\n              _this.cartlist[index].ifcheck = false;\n            }\n          });\n        });\n        this.checked = false;\n      }\n    }\n  },\n  methods: {\n    rend: function rend() {\n      console.log(sessionStorage.userinfo);\n    },\n    allcount: function allcount() {\n      this.alltitnum = this.cartlist.length;\n    },\n    sinprice: function sinprice() {\n      this.cartlist.forEach(function (item) {\n        item.sin_price = item.price * item.count;\n      });\n    },\n    gl_change: function gl_change() {\n      if (this.glstate == true) {\n        this.gl_tit = \"完成\";\n        this.glstate = false;\n        return;\n      } else {\n        this.gl_tit = \"管理\";\n        this.glstate = true;\n        return;\n      }\n    },\n    count_change: function count_change(index, num) {\n      var _this2 = this;\n\n      if (this.cartlist[index].count != 0 && num == -1) {\n        this.cartlist[index].count--;\n        this.cartlist[index].sin_price = this.cartlist[index].count * this.cartlist[index].price;\n        this.calcTotalPrice();\n\n        if (this.cartlist[index].count == 0) {\n          MessageBox({\n            title: 'Notice',\n            message: '是否删除此商品?',\n            showCancelButton: true\n          }).then(function (action) {\n            if (action == 'confirm') {\n              _this2.cartlist[index].console.log('删除成功');\n            } else {\n              _this2.cartlist[index].count = 1;\n              _this2.cartlist[index].sin_price = _this2.cartlist[index].count * _this2.cartlist[index].price;\n\n              _this2.checklist.forEach(function (e) {\n                if (e == _this2.cartlist[index].tic_id) {\n                  _this2.checklist.splice(_this2.checklist.indexOf(e), 1); //console.log(this.checklist.splice(this.checklist.indexOf(e),1));\n\n                }\n              });\n\n              console.log('取消删除');\n            }\n          }).catch(function () {\n            console.log(\"error\");\n          });\n          this.cartlist[index].count = 0;\n        }\n      }\n\n      if (this.cartlist[index].count != 6 && num == 1) {\n        this.cartlist[index].count++;\n        this.cartlist[index].sin_price = this.cartlist[index].count * this.cartlist[index].price;\n        this.calcTotalPrice();\n\n        if (this.cartlist[index].count == 6) {\n          this.$toast(\"最多购买6张\");\n        }\n      }\n    },\n    calcTotalPrice: function calcTotalPrice() {\n      var _this3 = this;\n\n      this.allprice = 0; //每次遍历商品之前对总金额进行清零\n      //console.log(this.checklist);\n\n      this.checklist.forEach(function (e) {\n        //遍历商品，如果选中就进行加个计算，然后累加\n        _this3.cartlist.forEach(function (item, index) {\n          if (e == item.tic_id) {\n            _this3.allprice += item.price * item.count; //累加的\n          }\n        });\n      });\n    },\n    checkAll: function checkAll() {\n      var _this4 = this;\n\n      if (this.checked) {\n        this.checklist = [];\n      } else {\n        this.cartlist.forEach(function (e) {\n          if (_this4.checklist.indexOf(e.tic_id) == -1) {\n            _this4.checklist.push(e.tic_id);\n          }\n        });\n      }\n    },\n    deltick: function deltick() {\n      var _this5 = this;\n\n      if (this.checklist.length != 0) {\n        MessageBox({\n          message: '是否删选中商品?',\n          showCancelButton: true\n        }).then(function (action) {\n          if (action == 'confirm') {\n            _this5.checklist.forEach(function (e) {\n              _this5.cartlist.forEach(function (item, ind) {\n                if (item.tic_id == e) {\n                  _this5.cartlist.splice(ind, 1);\n                }\n              });\n            });\n\n            _this5.allcount();\n\n            _this5.calcTotalPrice(); //this.sin_price();\n\n\n            console.log('删除成功');\n          } else {\n            console.log('取消删除');\n          }\n        }).catch(function () {\n          console.log(\"error\");\n        });\n      }\n    },\n    buy: function buy() {}\n  }\n};",{"version":3,"sources":["shopcart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA,SAAA,UAAA,QAAA,SAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,MAFA;AAGA,MAAA,OAAA,EAAA,IAHA;AAIA,MAAA,MAAA,EAAA,IAJA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,SAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,CAPA;AASA,MAAA,QAAA,EAAA,CAAA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,MAAA,EAAA,CAFA;AAGA,QAAA,SAAA,EAAA,oEAHA;AAIA,QAAA,QAAA,EAAA,kBAJA;AAKA,QAAA,SAAA,EAAA,OALA;AAMA,QAAA,KAAA,EAAA,GANA;AAOA,QAAA,SAAA,EAAA,CAPA;AAQA,QAAA,KAAA,EAAA,CARA;AASA,QAAA,OAAA,EAAA,IATA;AAUA,QAAA,EAAA,EAAA,OAAA;AAVA,OAAA,EAYA;AACA,QAAA,MAAA,EAAA,CADA;AAEA,QAAA,EAAA,EAAA,CAFA;AAGA,QAAA,SAAA,EAAA,oEAHA;AAIA,QAAA,QAAA,EAAA,kBAJA;AAKA,QAAA,SAAA,EAAA,KALA;AAMA,QAAA,KAAA,EAAA,GANA;AAOA,QAAA,SAAA,EAAA,CAPA;AAQA,QAAA,KAAA,EAAA,CARA;AASA,QAAA,OAAA,EAAA,IATA;AAUA,QAAA,EAAA,EAAA,OAAA;AAVA,OAZA,EAuBA;AACA,QAAA,MAAA,EAAA,CADA;AAEA,QAAA,EAAA,EAAA,CAFA;AAGA,QAAA,SAAA,EAAA,oEAHA;AAIA,QAAA,QAAA,EAAA,kBAJA;AAKA,QAAA,SAAA,EAAA,KALA;AAMA,QAAA,KAAA,EAAA,IANA;AAOA,QAAA,SAAA,EAAA,CAPA;AAQA,QAAA,KAAA,EAAA,CARA;AASA,QAAA,OAAA,EAAA,KATA;AAUA,QAAA,EAAA,EAAA,OAAA;AAVA,OAvBA,CATA;AA4CA,MAAA,SAAA,EAAA;AA5CA,KAAA;AA8CA,GAhDA;AAiDA,EAAA,OAjDA,qBAiDA;AACA,SAAA,IAAA;AACA,SAAA,QAAA;AACA,SAAA,QAAA;AACA,GArDA;AAsDA,EAAA,KAAA,EAAA;AAEA,IAAA,SAFA,uBAEA;AAAA;;AACA,WAAA,cAAA;;AACA,UAAA,KAAA,SAAA,CAAA,MAAA,IAAA,KAAA,QAAA,CAAA,MAAA,EAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,OAAA,GAAA,IAAA;AACA,SAFA;AAGA,aAAA,OAAA,GAAA,IAAA;AACA,OALA,MAKA;AACA,aAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,gBAAA,CAAA,IAAA,IAAA,CAAA,MAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,KAAA,EAAA,OAAA,GAAA,IAAA;AACA,aAFA,MAGA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,KAAA,EAAA,OAAA,GAAA,KAAA;AACA;AACA,WAPA;AAQA,SATA;AAUA,aAAA,OAAA,GAAA,KAAA;AACA;AACA;AAtBA,GAtDA;AA8EA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,cAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,WAAA,SAAA,GAAA,KAAA,QAAA,CAAA,MAAA;AACA,KANA;AAOA,IAAA,QAPA,sBAOA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,SAAA,GAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,OAFA;AAGA,KAXA;AAYA,IAAA,SAZA,uBAYA;AACA,UAAA,KAAA,OAAA,IACA,IADA,EACA;AACA,aAAA,MAAA,GAAA,IAAA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;AACA,OALA,MAKA;AACA,aAAA,MAAA,GAAA,IAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA;AACA;AACA,KAvBA;AAwBA,IAAA,YAxBA,wBAwBA,KAxBA,EAwBA,GAxBA,EAwBA;AAAA;;AAEA,UAAA,KAAA,QAAA,CAAA,KAAA,EAAA,KAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,EAAA,KAAA;AAEA,aAAA,QAAA,CAAA,KAAA,EAAA,SAAA,GAAA,KAAA,QAAA,CAAA,KAAA,EAAA,KAAA,GAAA,KAAA,QAAA,CAAA,KAAA,EAAA,KAAA;AACA,aAAA,cAAA;;AACA,YAAA,KAAA,QAAA,CAAA,KAAA,EAAA,KAAA,IAAA,CAAA,EAAA;AACA,UAAA,UAAA,CAAA;AACA,YAAA,KAAA,EAAA,QADA;AAEA,YAAA,OAAA,EAAA,UAFA;AAGA,YAAA,gBAAA,EAAA;AAHA,WAAA,CAAA,CAIA,IAJA,CAIA,UAAA,MAAA,EAAA;AACA,gBAAA,MAAA,IAAA,SAAA,EAAA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,KAAA,EACA,OADA,CACA,GADA,CACA,MADA;AAEA,aAHA,MAGA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,KAAA,EAAA,SAAA,GAAA,MAAA,CAAA,QAAA,CAAA,KAAA,EAAA,KAAA,GAAA,MAAA,CAAA,QAAA,CAAA,KAAA,EAAA,KAAA;;AAEA,cAAA,MAAA,CAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,oBAAA,CAAA,IAAA,MAAA,CAAA,QAAA,CAAA,KAAA,EAAA,MAAA,EAAA;AACA,kBAAA,MAAA,CAAA,SAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,CAAA,EADA,CAEA;;AACA;AAEA,eANA;;AAOA,cAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA;AACA,WArBA,EAqBA,KArBA,CAqBA,YAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AACA,WAvBA;AAwBA,eAAA,QAAA,CAAA,KAAA,EAAA,KAAA,GAAA,CAAA;AACA;AACA;;AACA,UAAA,KAAA,QAAA,CAAA,KAAA,EAAA,KAAA,IAAA,CAAA,IAAA,GAAA,IAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,EAAA,KAAA;AACA,aAAA,QAAA,CAAA,KAAA,EAAA,SAAA,GAAA,KAAA,QAAA,CAAA,KAAA,EAAA,KAAA,GAAA,KAAA,QAAA,CAAA,KAAA,EAAA,KAAA;AACA,aAAA,cAAA;;AACA,YAAA,KAAA,QAAA,CAAA,KAAA,EAAA,KAAA,IAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA,QAAA;AACA;AACA;AAEA,KApEA;AAqEA,IAAA,cArEA,4BAqEA;AAAA;;AACA,WAAA,QAAA,GAAA,CAAA,CADA,CACA;AACA;;AACA,WAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,cAAA,CAAA,IAAA,IAAA,CAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,IAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CADA,CACA;AACA;AACA,SAJA;AAKA,OANA;AAOA,KA/EA;AAgFA,IAAA,QAhFA,sBAgFA;AAAA;;AACA,UAAA,KAAA,OAAA,EAAA;AACA,aAAA,SAAA,GAAA,EAAA;AACA,OAFA,MAGA;AAAA,aAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,SAAA,CAAA,OAAA,CAAA,CAAA,CAAA,MAAA,KAAA,CAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,CAAA,CAAA,MAAA;AACA;AACA,SAJA;AAKA;AACA,KA1FA;AA2FA,IAAA,OA3FA,qBA2FA;AAAA;;AACA,UAAA,KAAA,SAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,UAAA,CAAA;AAEA,UAAA,OAAA,EAAA,UAFA;AAGA,UAAA,gBAAA,EAAA;AAHA,SAAA,CAAA,CAIA,IAJA,CAIA,UAAA,MAAA,EAAA;AACA,cAAA,MAAA,IAAA,SAAA,EAAA;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,GAAA,EAAA;AACA,oBAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,GAAA,EAAA,CAAA;AACA;AACA,eAJA;AAKA,aANA;;AAOA,YAAA,MAAA,CAAA,QAAA;;AAEA,YAAA,MAAA,CAAA,cAAA,GAVA,CAWA;;;AAGA,YAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,WAfA,MAeA;AAEA,YAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA;AACA,SAxBA,EAwBA,KAxBA,CAwBA,YAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,OAAA;AAAA,SAzBA;AA2BA;AACA,KAzHA;AA0HA,IAAA,GA1HA,iBA0HA,CAEA;AA5HA;AA9EA,CAAA","sourcesContent":["<template>\n<div>\n     <div class=\"header\">\n        <mt-header class=\"head\">\n            <span slot=\"left\" v-text=\"title\"></span>\n            <mt-button slot=\"right\" @click=\"gl_change\" v-text=\"gl_tit\"> </mt-button>\n        </mt-header>\n    </div>\n    <div class=\"zhezhao\"></div>\n    <div class=\"all\">\n    <div class=\"cart-content\">\n\n        <div class=\"selectall\">\n           <span>共<span class=\"\" v-text=\"alltitnum\"></span>种票</span>\n        </div>\n\n        <div class=\"cart-items\" v-for=\"(item,index) of cartlist\" :key=\"index\">\n            <mt-cell-swipe class=\"itm-swipe\"\n                :right=\"[\n                    {\n                    content:'删除',\n                    style: { background: 'red', color: '#fff' },\n                    handler: () => this.$messagebox('delete')\n                    }\n                ]\">\n                <div class=\"cart-item\" slot=\"title\">  \n                    <div class=\"itm-checkbox\">\n                        <input type=\"checkbox\"  v-model=\"checklist\" :value=\"item.tic_id\" :checked=\"item.ifcheck\" >\n                    </div>\n                    <div class=\"ticket-item\">\n                        <div class=\"item-l\">\n                            <span class=\"img-zk\" v-show=\"item.zk==0?false:true\"><span class=\"\" v-text=\"item.zk\">7.6</span>折 </span>\n                            <img class=\"itm-l-img\" :src=item.sr alt=\"\">\n                            \n                        </div>\n                        <div class=\"item-r\">\n                            <div class=\"itm-r-tit\" v-text=\"item.tic_title\">\n                            \n                                 \n                            \n                            </div>\n                            <div class=\"itm-r-sc\">\n                                <p class=\"sj\" v-text=\"item.tic_time\"></p>\n                                <p class=\"cg\" v-text=\"item.tic_venue\">北京喜剧院</p>\n                            </div>\n                            <div class=\"itm-r-bott\" >\n                                <span class=\"price\">¥\n                                    <span class=\"pri\" v-text=\"item.sin_price\">500</span>\n                                </span>\n                                <span class=\"number\">\n                                    <mt-button class=\"reduce btn\" @click=\"count_change(index,-1)\">-</mt-button>\n                                    <span class=\"num\" v-text=\"item.count\">123</span>\n                                    <mt-button class=\"add btn\" @click=\"count_change(index,1)\">+</mt-button>\n                                </span>\n                            </div>\n\n                        </div>\n                    \n                    </div>\n                 </div>\n            </mt-cell-swipe>\n\n        </div>            \n\n    </div>\n\n    <div class=\"foot-fixed\">\n        <div class=\"selectall\" @click=\"checkAll\">\n            <input type=\"checkbox\" v-model=\"checked\"/><span>全选</span>\n        </div>\n        <div class=\"gl2\"  v-if=\"glstate\">\n            <span class=\"s1\">不含运费</span>  \n           <span class=\"s2\">\n               <span>合计:</span>\n               <span class=\"prii\">¥<span class=\"all_pri\" v-text=\"allprice\">99</span></span>\n           </span>\n            <mt-button class=\"gm-btn\" @click=\"buy\">购买</mt-button>\n        </div>\n        <div class=\"gl1\" v-else>\n            <span>清理</span>\n            <mt-button size=\"small\" class=\"btn addscj\">移入收藏夹</mt-button>\n            <mt-button size=\"small\" class=\"btn delect\" @click=\"deltick\">删除</mt-button>\n        </div>           \n    </div>    \n    <my-footer :selected=selected></my-footer>\n    </div>\n</div>\n</template>\n<script>\nimport { MessageBox } from 'mint-ui';\nexport default {\n    data(){\n        return{\n            title:\"购物车\",\n            selected:\"tab2\",\n            glstate:true,\n            gl_tit:\"管理\",\n            checked:false,\n            checklist:[],\n            allprice:0,\n\n            cartlist:[{\n                zk:1,\n                tic_id:1,\n                tic_title:\"【中鱼文化】神剧重燃！black Mary Poppins中文版《水曜日》第二轮suigvuyefbcuaeksbviuadfvsd\",\n                tic_time:\"2019.11.22-12.01\",\n                tic_venue:\"北京喜剧院\",\n                price:500,\n                sin_price:0,\n                count:1,\n                ifcheck:true,\n                sr:require(\"../../public/img/index/zkp1.jpg\")\n                \n            },{\n                tic_id:2,\n                zk:2,\n                tic_title:\"【中鱼文化】神剧重燃！black Mary Poppins中文版《水曜日》第二轮suigvuyefbcuaeksbviuadfvsd\",\n                tic_time:\"2019.11.22-12.01\",\n                tic_venue:\"北京2\",\n                price:800,\n                sin_price:0,\n                count:2,\n                ifcheck:true,\n                sr:require(\"../../public/img/index/zkp2.jpg\")\n            },{\n                tic_id:3,\n                zk:0,\n                tic_title:\"【中鱼文化】神剧重燃！black Mary Poppins中文版《水曜日》第二轮suigvuyefbcuaeksbviuadfvsd\",\n                tic_time:\"2019.11.22-12.01\",\n                tic_venue:\"北京3\",\n                price:1000,\n                sin_price:0,\n                count:3,\n                ifcheck:false,\n                sr:require(\"../../public/img/index/zkp3.jpg\")\n            }],\n            alltitnum:0 \n        }\n    },\n    created(){\n        this.rend()\n        this.allcount()\n        this.sinprice()\n    },\n    watch:{\n        \n    　　checklist(){\n            this.calcTotalPrice();\n    　　     if(this.checklist.length==this.cartlist.length){\n                    this.cartlist.forEach((item)=>{\n                    item.ifcheck=true;\n                    });\n                this.checked=true;\n    　　　　        }else{\n                    this.checklist.forEach((e)=>{\n                    this.cartlist.forEach((item,index)=>{\n                            if(e==item.tic_id){\n                                this.cartlist[index].ifcheck=true;\n                            }\n                            else{\n                                this.cartlist[index].ifcheck=false;\n                            }\n                        });\n                    });\n                this.checked=false;\n    　　　　    }  \n    　　}       \n    },\n    methods:{\n        rend(){\n            console.log(sessionStorage.userinfo);\n        },\n        allcount(){\n            this.alltitnum=this.cartlist.length; \n        },\n        sinprice(){  \n            this.cartlist.forEach((item)=>{\n                item.sin_price=item.price*item.count;\n            })\n        },\n        gl_change(){\n            if(this.glstate\n            ==true){\n                this.gl_tit=\"完成\"\n                this.glstate=false\n                return;               \n            }else{\n                this.gl_tit=\"管理\"\n                this.glstate=true\n                return;               \n            }\n        },\n        count_change(index,num){\n            \n            if(this.cartlist[index].count!=0&&num==-1){\n                this.cartlist[index].count--;\n                \n                this.cartlist[index].sin_price=this.cartlist[index].count*this.cartlist[index].price;\n                this.calcTotalPrice();\n                if(this.cartlist[index].count==0){\n                    MessageBox({\n                        title: 'Notice',\n                        message: '是否删除此商品?',\n                        showCancelButton: true\n                    }).then(action => {\n                        if(action == 'confirm'){\n                            this.cartlist[index]. \n                            console.log('删除成功');\n                        }else{\n                            this.cartlist[index].count=1;\n                            this.cartlist[index].sin_price=this.cartlist[index].count*this.cartlist[index].price;\n                            \n                            this.checklist.forEach((e)=>{\n                                if(e==this.cartlist[index].tic_id){\n                                   this.checklist.splice(this.checklist.indexOf(e),1);\n                                   //console.log(this.checklist.splice(this.checklist.indexOf(e),1));\n                                }\n\n                            });\n                            console.log('取消删除');\n                        }  \n                    }).catch(() => {\n                        console.log(\"error\");\n                    });\n                    this.cartlist[index].count=0;\n                }     \n            }\n            if(this.cartlist[index].count!=6&&num==1){\n                this.cartlist[index].count++;\n                this.cartlist[index].sin_price=this.cartlist[index].count*this.cartlist[index].price;\n                this.calcTotalPrice();\n                if(this.cartlist[index].count==6){\n                    this.$toast(\"最多购买6张\");\n                }\n            }\n\n        },\n        calcTotalPrice(){\n            this.allprice = 0;//每次遍历商品之前对总金额进行清零\n            //console.log(this.checklist);\n            this.checklist.forEach((e) => {//遍历商品，如果选中就进行加个计算，然后累加\n                this.cartlist.forEach((item,index)=>{\n                    if (e==item.tic_id){\n                        this.allprice+=item.price * item.count;//累加的\n                    }        \n                });    \n            });\n        },\n        checkAll(){\n            if(this.checked){\n                this.checklist=[];\n            }\n            else{this.cartlist.forEach((e)=>{\n                　 if(this.checklist.indexOf(e.tic_id)==-1){\n            　　    　this.checklist.push(e.tic_id)\n            　　　　 }\n                })\n            }\n        },\n        deltick(){\n            if(this.checklist.length!=0){\n                MessageBox({\n                        \n                    message: '是否删选中商品?',\n                    showCancelButton: true\n                }).then(action => {\n                    if(action == 'confirm'){\n                        this.checklist.forEach((e)=>{\n                        this.cartlist.forEach((item,ind)=>{\n                            if(item.tic_id==e){\n                            this.cartlist.splice(ind,1);\n                            }\n                        })\n                    });\n                    this.allcount();\n                            \n                    this.calcTotalPrice();\n                    //this.sin_price();\n                            \n                            \n                    console.log('删除成功');\n                    }else{\n                \n                        console.log('取消删除');\n                    }  \n                }).catch(() => {\n                        console.log(\"error\");});\n                    \n            }\n        },\n        buy(){\n            \n        }\n    \n    }\n    \n}\n</script>\n<style lang=\"scss\" scoped>\n.zhezhao{\n    width:100%;\n    height:500;\n    background-color:#fff;\n}\n.all{\n    width:100%;\n}\n.header{\n    width: 100%;\n    .head{\n   width: 100%;\n    height: 50px;\n    line-height: 45px;\n    background-color: #fe5929;\n    border-radius: 3px;\n   \n    font-size: 16px;\n    }\n}\n.cart-content{\n    width:100%;\n    min-height:500px;\n    \n    .selectall{\n        width:100%;\n        box-sizing: border-box;\n        padding:0 3%;\n        height:30px;\n        line-height:30px;\n        text-align: justify;\n        background-color: #eee;\n    }\n    .cart-items{\n        width:100%;\n        box-sizing: border-box;\n        \n        .itm-swipe{\n        width:100%;\n        margin-top:10px;\n            \n        .cart-item{\n            width:100%;\n            display: flex;\n            justify-content: space-between;\n            \n            .itm-checkbox{\n                width:5%;\n                height: 150px;\n                line-height: 150px;\n\n            }\n            .ticket-item{\n                width:95%;\n                \n                \n                height: 150px;\n                display: flex;\n                justify-content: space-between;\n                padding-bottom:20px;\n                border-bottom:1px solid #eee;\n                .item-l{\n                    width:35%;\n                    height:150px;\n                    border-bottom:1px solid #eee;\n                    border-radius: 5px;\n                    margin-left:20px;\n                    position:relative;  \n        \n\n                    .img-zk{\n                        display: block;\n                        width:40px;\n                        height:20px;\n                        line-height: 20px;\n                        font-size:10px;\n                        color:#fff;\n                        background-color:rgb(228, 69, 161);\n                        border-top-left-radius:8px;\n                        border-top-right-radius:3px;\n                        border-bottom-right-radius:3px;\n                        border-bottom-left-radius:3px;\n                        position: absolute;\n                        top:0;\n                        left: 0;\n                        \n                        z-index: 100;\n                    }\n                    .itm-l-img{\n                        width:110px;\n                        height:150px;\n                        border-radius: 8px;\n                        position: absolute;\n                        z-index: 50;\n                        top:0;\n                        left:0;\n                    }\n                    .img-bott{\n                        position: absolute;\n                        width:110px;\n                        height:25px;\n                        line-height: 25px;\n                        font-size:10px;\n                        color:#fff;\n                        background-color:rgba(0,0,0,0.5);\n                        border-top-left-radius:3px;\n                        border-top-right-radius:3px;\n                        border-bottom-right-radius:8px;\n                        border-bottom-left-radius:8px;\n                        left:0;\n                        bottom:0px;\n                        z-index: 100;\n\n                    }\n                }\n                .item-r{\n                    width:55%;\n                    margin:0 10px;\n                    position: relative;\n                    .itm-r-tit{\n                        width:90%;\n                        height:40px;\n                        margin-top: 7px;\n\n                        text-overflow:ellipsis;\n                        white-space: nowrap;\n                        overflow: hidden;\n\n                        position:absolute;\n                        top:0;\n                        left:0;\n                        \n                    }\n                    .itm-r-sc{\n                        width:90%;\n                        height:40px;\n                        line-height:15px;\n                        text-align: justify;\n\n                        font-size:12px;\n                        \n                        position:absolute;\n                        top:40%;\n                        left:0;\n\n                        p{\n                            margin: 0;\n\n                        }\n                    }\n                    .itm-r-bott{\n                        width:98%;\n\n                        position:absolute;\n                        bottom:0;\n                        left:0;\n                        display: flex;\n                        justify-content: space-between;\n                        .price{\n                            color:#fe5929;\n                        }\n\n                        .number{\n                            width:60%;\n                            display: flex;\n                            justify-content: space-around;\n                            .btn{\n                                margin:0;\n                                padding:0;\n                                width:30%;\n                                height:20px;\n                                line-height:20px;\n                                font-size:10px;\n                                border-radius: 10%;\n                            }\n                            .num{\n                                width:40%;\n                                border:1px solid #eee;\n                            }\n                        }\n                        .add-btn{\n\n                            width:20%;\n                            height:25px;\n                            z-index:999;\n                            position: relative;\n                            .i1{\n                                font-size: 20px;\n                                position: absolute;\n                                top:0;\n                                left:0;\n                            }\n                            .i2{\n                                width:10px;\n                                font-size: 8px;\n                                position: absolute;\n                                top:10px;\n                                left:17px;\n                                }\n                            }\n                    \n                        }\n                }\n                \n            }\n        }\n    }\n    }\n    \n}\n.foot-fixed{\n    width:100%;\n    height:50px;\n    line-height:50px;\n    background-color: #eee;\n    position:fixed;\n    bottom:60px;\n\n    display: flex;\n    justify-content: space-between;\n    .selectall{\n        width:40%;\n        text-align: justify;\n    }\n    .gl1{\n        width:60%;\n        text-align: end;\n        span{\n            font-size:8px;\n        }\n        .btn{\n            margin-left:3%;\n        }\n        .btn.addscj{\n            border:1px solid #fe5929;\n            color:#fe5929;\n        }\n        .btn.delect{\n            border:1px solid rgb(228, 69, 161);\n            color:rgb(228, 69, 161);\n        }\n    }\n    .gl2{\n        width:60%;\n        text-align: end;\n        .s1{\n            width:35%;\n            font-size:8px;\n            \n        }\n        .s2{\n            width:35%;\n            margin-left:3%;\n            .prii{\n                margin-left:3%;\n                color:#fe5929;\n            }\n\n        }\n        .gm-btn{\n        \n       width:30%;\n        font-size: 12px;\n        margin-left:6%;\n        \n\n        background-color:rgb(228, 69, 161);\n        color:#fff;\n\n    }\n    }\n    \n}\n    \n</style>"],"sourceRoot":"src/views"}]}