{"remainingRequest":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/babel-loader/lib/index.js!/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jihongyu/Documents/GitHub/ypiao_vue_app/src/components/FilterBar/FilterBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/src/components/FilterBar/FilterBar.vue","mtime":1568619460136},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import FilterBarPop from 'FilterBarPop'\nimport FilterBarPop from \"../FilterBarPop.vue\";\nexport default {\n  props: {\n    barMenus: {\n      type: Array,\n      required: true,\n      validator: function validator(value) {\n        //TODO:验证数据有效性\n        return true;\n      }\n    },\n    top: String\n  },\n  data: function data() {\n    return {\n      isShow: false,\n      hasTabHeader: false,\n      selectedMenu: {},\n      selectedIndexMenu: undefined\n    };\n  },\n  methods: {\n    handleShowDialog: function handleShowDialog(menu, index) {\n      this.isShow = true;\n      this.selectedMenu = menu;\n      this.selectedIndexMenu = index;\n\n      if (menu.showTabHeader) {\n        this.hasTabHeader = true;\n      } else {\n        this.hasTabHeader = false;\n      }\n\n      var _menu = JSON.parse(JSON.stringify(menu));\n\n      _menu.tabs = {};\n      this.$emit('showDialog', _menu);\n    },\n    handleChangeTab: function handleChangeTab(tab) {\n      this.$emit('changeTab', tab.index);\n    },\n    handleChangeMainItem: function handleChangeMainItem(mainItem) {\n      var _mainItem = JSON.parse(JSON.stringify(mainItem));\n\n      this.$emit('changeMainItem', _mainItem);\n    },\n    handleCloseDialog: function handleCloseDialog() {\n      this.isShow = false;\n      this.selectedIndexMenu = -1;\n      this.$emit('closeDialog');\n    },\n    changeSelect: function changeSelect() {\n      var selectData = [];\n      this.barMenus.forEach(function (barMenu, index, arr) {\n        var _selectBarData = {}; // console.log(\"barMenu.name: \" + barMenu.name);\n\n        _selectBarData.name = barMenu.name;\n        _selectBarData.value = barMenu.value;\n        _selectBarData.tab = {};\n        var tab = barMenu.tabs[barMenu.selectIndex]; // console.log(\"tab.name: \" + tab.name);\n\n        _selectBarData.tab.name = tab.name;\n        _selectBarData.tab.value = tab.value;\n        var mainItem = tab.detailList[tab.selectIndex];\n        _selectBarData.tab.mainItem = {}; // console.log(\"mainItem.name: \" + mainItem.name);\n\n        _selectBarData.tab.mainItem.name = mainItem.name;\n        _selectBarData.tab.mainItem.value = mainItem.vaule;\n        var subItem = false;\n\n        if (mainItem.list) {\n          subItem = mainItem.list[mainItem.selectIndex];\n          _selectBarData.tab.mainItem.subItem = {}; // console.log(\"subItem.name: \" + subItem.name);\n\n          _selectBarData.tab.mainItem.subItem.name = subItem.name;\n          _selectBarData.tab.mainItem.subItem.value = subItem.value;\n        } else {\n          _selectBarData.tab.mainItem.subItem = subItem;\n        }\n\n        selectData.push(_selectBarData);\n      });\n      this.$emit('changeSelect', selectData);\n    }\n  },\n  components: {\n    'filter-bar-pop': FilterBarPop\n  }\n};",{"version":3,"sources":["FilterBar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"filterbar\" :style=\"{'top': top + 'px'}\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div\n          class=\"col\"\n          :class=\"{'selected': index == selectedIndexMenu}\"\n          @click=\"handleShowDialog(barMenu, index)\"\n          v-for=\"(barMenu, index) in barMenus\"\n          :key=\"index\"\n        >\n          {{barMenu.name}}<span :class=\"index == selectedIndexMenu ? barMenu.selectIcon : barMenu.defaultIcon\"></span>\n        </div>\n      </div>\n      <filter-bar-pop\n        :filterTop=\"top\"\n        :show-dialog=\"isShow\"\n        :hasTabHeader=\"hasTabHeader\"\n        :menu=\"selectedMenu\"\n        @changeTab=\"handleChangeTab\"\n        @changeMainItem=\"handleChangeMainItem\"\n        @changeSelect=\"changeSelect\"\n        @closeDialog=\"handleCloseDialog\"\n      ></filter-bar-pop>\n    </div>\n  </div>\n</template>\n \n<script>\n  // import FilterBarPop from 'FilterBarPop'\n  import FilterBarPop from '../FilterBarPop.vue'\n  export default {\n    props: {\n      barMenus: {\n        type: Array,\n        required: true,\n        validator: function (value) {\n          //TODO:验证数据有效性\n          return true;\n        }\n      },\n      top: String\n    },\n    data() {\n      return {\n        isShow: false,\n        hasTabHeader: false,\n        selectedMenu: {},\n        selectedIndexMenu: undefined\n      }\n    },\n    methods: {\n      handleShowDialog(menu, index) {\n        this.isShow = true;\n        this.selectedMenu = menu;\n        this.selectedIndexMenu = index;\n        if (menu.showTabHeader) {\n          this.hasTabHeader = true;\n        } else {\n          this.hasTabHeader = false;\n        }\n        let _menu = JSON.parse(JSON.stringify(menu));\n        _menu.tabs = {};\n        this.$emit('showDialog', _menu);\n      },\n      handleChangeTab(tab) {\n        this.$emit('changeTab', tab.index);\n      },\n      handleChangeMainItem(mainItem) {\n        let _mainItem = JSON.parse(JSON.stringify(mainItem));\n        this.$emit('changeMainItem', _mainItem);\n      },\n      handleCloseDialog() {\n        this.isShow = false;\n        this.selectedIndexMenu = -1;\n        this.$emit('closeDialog');\n      },\n      changeSelect() {\n        var selectData = [];\n        this.barMenus.forEach(function (barMenu, index, arr) {\n          let _selectBarData = {};\n          // console.log(\"barMenu.name: \" + barMenu.name);\n          _selectBarData.name = barMenu.name;\n          _selectBarData.value = barMenu.value;\n          _selectBarData.tab = {};\n          let tab = barMenu.tabs[barMenu.selectIndex];\n          // console.log(\"tab.name: \" + tab.name);\n          _selectBarData.tab.name = tab.name;\n          _selectBarData.tab.value = tab.value;\n          let mainItem = tab.detailList[tab.selectIndex];\n          _selectBarData.tab.mainItem = {}\n          // console.log(\"mainItem.name: \" + mainItem.name);\n          _selectBarData.tab.mainItem.name = mainItem.name;\n          _selectBarData.tab.mainItem.value = mainItem.vaule;\n          let subItem = false;\n          if (mainItem.list) {\n            subItem = mainItem.list[mainItem.selectIndex];\n            _selectBarData.tab.mainItem.subItem = {};\n            // console.log(\"subItem.name: \" + subItem.name);\n            _selectBarData.tab.mainItem.subItem.name = subItem.name;\n            _selectBarData.tab.mainItem.subItem.value = subItem.value;\n          } else {\n            _selectBarData.tab.mainItem.subItem = subItem;\n          }\n          selectData.push(_selectBarData);\n        });\n        this.$emit('changeSelect', selectData);\n      }\n    },\n    components: {\n      'filter-bar-pop': FilterBarPop\n    }\n  }\n</script>\n \n<style lang=\"scss\" scoped>\n  .filterbar {\n    width: 100%;\n    background: #fff;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    .container {\n      width: 100%;\n      outline: 1px solid #DBDCDE;\n      position: relative;\n      .row {\n        display: flex;\n        display: -ms-flexbox;\n        display: -moz-box;\n        display: -webkit-box;\n        display: -webkit-flex;\n        flex-direction: row;\n        -webkit-flex-direction: row;\n        justify-content: space-around;\n        -webkit-box-pack: space-around;\n        -moz-box-pack: space-around;\n        -ms-flex-pack: space-around;\n        width: 90%;\n        height: 40px;\n        margin: 0 auto;\n        line-height: 40px;\n        .selected {\n          color: orange;\n        }\n        .col {\n          span {\n            margin-left: 5px;\n            vertical-align: middle;\n          }\n        }\n      }\n    }\n  }\n</style>"],"sourceRoot":"src/components/FilterBar"}]}