{"remainingRequest":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/babel-loader/lib/index.js!/Users/jihongyu/Documents/GitHub/ypiao_vue_app/src/vuex/store/mutations.js","dependencies":[{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/src/vuex/store/mutations.js","mtime":1568103841640},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/jihongyu/Documents/GitHub/ypiao_vue_app/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\n\nvar _mutations;\n\n//mutations，改变state数据的唯一途径，且不能用于处理异步事件\nimport mutationTypes from '@/mutationTypes.js';\nvar mutations = (_mutations = {}, _defineProperty(_mutations, mutationTypes.ADD_GOODS, function (state, info) {\n  var isOwn = state.shopList.some(function (item) {\n    if (item.id == info.id) {\n      if (item.inventory != 0) {\n        item.num++;\n        item.inventory--;\n      }\n\n      return true;\n    } else {\n      return false;\n    }\n  });\n\n  if (!isOwn) {\n    state.shopList.push({\n      id: info.id,\n      name: info.name,\n      price: info.price,\n      inventory: info.inventory - 1,\n      num: 1\n    });\n  }\n}), _defineProperty(_mutations, mutationTypes.ADD_NUM, function (state, index) {\n  if (state.shopList[index].inventory != 0) {\n    state.shopList[index].num++;\n    state.shopList[index].inventory--;\n  }\n}), _defineProperty(_mutations, mutationTypes.REDUCE_NUM, function (state, index) {\n  if (state.shopList[index].num == 0) {\n    state.shopList.splice(index, 1);\n  } else {\n    state.shopList[index].num--;\n    state.shopList[index].inventory++;\n  }\n}), _defineProperty(_mutations, mutationTypes.DELETE_GOODS, function (state, index) {\n  state.shopList.splice(index, 1);\n}), _defineProperty(_mutations, mutationTypes.CLEAR_SHOP_CART, function (state) {\n  state.shopList = [];\n}), _mutations);\nexport default mutations;",{"version":3,"sources":["/Users/jihongyu/Documents/GitHub/ypiao_vue_app/src/vuex/store/mutations.js"],"names":["mutationTypes","mutations","ADD_GOODS","state","info","isOwn","shopList","some","item","id","inventory","num","push","name","price","ADD_NUM","index","REDUCE_NUM","splice","DELETE_GOODS","CLEAR_SHOP_CART"],"mappings":";;;;;AAAA;AAEA,OAAOA,aAAP,MAA0B,oBAA1B;AAEA,IAAMC,SAAS,iDACVD,aAAa,CAACE,SADJ,YACeC,KADf,EACsBC,IADtB,EAC4B;AACrC,MAAIC,KAAK,GAAGF,KAAK,CAACG,QAAN,CAAeC,IAAf,CAAoB,UAASC,IAAT,EAAc;AAC5C,QAAGA,IAAI,CAACC,EAAL,IAAWL,IAAI,CAACK,EAAnB,EAAsB;AACpB,UAAGD,IAAI,CAACE,SAAL,IAAgB,CAAnB,EAAqB;AACnBF,QAAAA,IAAI,CAACG,GAAL;AACAH,QAAAA,IAAI,CAACE,SAAL;AACD;;AACD,aAAO,IAAP;AACD,KAND,MAMK;AACH,aAAO,KAAP;AACD;AACF,GAVW,CAAZ;;AAYA,MAAG,CAACL,KAAJ,EAAU;AACRF,IAAAA,KAAK,CAACG,QAAN,CAAeM,IAAf,CAAoB;AAACH,MAAAA,EAAE,EAACL,IAAI,CAACK,EAAT;AAAYI,MAAAA,IAAI,EAACT,IAAI,CAACS,IAAtB;AAA2BC,MAAAA,KAAK,EAACV,IAAI,CAACU,KAAtC;AAA4CJ,MAAAA,SAAS,EAACN,IAAI,CAACM,SAAL,GAAe,CAArE;AAAuEC,MAAAA,GAAG,EAAC;AAA3E,KAApB;AACD;AACF,CAjBU,+BAkBVX,aAAa,CAACe,OAlBJ,YAkBaZ,KAlBb,EAkBoBa,KAlBpB,EAkB2B;AACpC,MAAGb,KAAK,CAACG,QAAN,CAAeU,KAAf,EAAsBN,SAAtB,IAAiC,CAApC,EAAsC;AACpCP,IAAAA,KAAK,CAACG,QAAN,CAAeU,KAAf,EAAsBL,GAAtB;AACAR,IAAAA,KAAK,CAACG,QAAN,CAAeU,KAAf,EAAsBN,SAAtB;AACD;AACF,CAvBU,+BAwBVV,aAAa,CAACiB,UAxBJ,YAwBgBd,KAxBhB,EAwBuBa,KAxBvB,EAwB8B;AACvC,MAAGb,KAAK,CAACG,QAAN,CAAeU,KAAf,EAAsBL,GAAtB,IAA6B,CAAhC,EAAkC;AAChCR,IAAAA,KAAK,CAACG,QAAN,CAAeY,MAAf,CAAsBF,KAAtB,EAA4B,CAA5B;AACD,GAFD,MAEK;AACHb,IAAAA,KAAK,CAACG,QAAN,CAAeU,KAAf,EAAsBL,GAAtB;AACAR,IAAAA,KAAK,CAACG,QAAN,CAAeU,KAAf,EAAsBN,SAAtB;AACD;AACF,CA/BU,+BAgCVV,aAAa,CAACmB,YAhCJ,YAgCkBhB,KAhClB,EAgCyBa,KAhCzB,EAgCgC;AACzCb,EAAAA,KAAK,CAACG,QAAN,CAAeY,MAAf,CAAsBF,KAAtB,EAA4B,CAA5B;AACD,CAlCU,+BAmCVhB,aAAa,CAACoB,eAnCJ,YAmCqBjB,KAnCrB,EAmC4B;AACrCA,EAAAA,KAAK,CAACG,QAAN,GAAiB,EAAjB;AACD,CArCU,cAAf;AAyCA,eAAeL,SAAf","sourcesContent":["//mutations，改变state数据的唯一途径，且不能用于处理异步事件\n \nimport mutationTypes from '@/mutationTypes.js'\n \nconst mutations = {\n    [mutationTypes.ADD_GOODS](state, info) {\n      let isOwn = state.shopList.some(function(item){\n        if(item.id == info.id){\n          if(item.inventory!=0){\n            item.num++;\n            item.inventory--;\n          }\n          return true;\n        }else{\n          return false;\n        }\n      });\n \n      if(!isOwn){\n        state.shopList.push({id:info.id,name:info.name,price:info.price,inventory:info.inventory-1,num:1});\n      }\n    },\n    [mutationTypes.ADD_NUM](state, index) {\n      if(state.shopList[index].inventory!=0){\n        state.shopList[index].num++;\n        state.shopList[index].inventory--;\n      }\n    },\n    [mutationTypes.REDUCE_NUM](state, index) {\n      if(state.shopList[index].num == 0){\n        state.shopList.splice(index,1);\n      }else{\n        state.shopList[index].num--;\n        state.shopList[index].inventory++;\n      }\n    },\n    [mutationTypes.DELETE_GOODS](state, index) {\n      state.shopList.splice(index,1);\n    },\n    [mutationTypes.CLEAR_SHOP_CART](state) {\n      state.shopList = [];\n    },\n  };\n\n \nexport default mutations;"]}]}